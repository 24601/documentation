Заголовок: «Отслеживание изменений состояния с помощью плагина Zustand»
MetaTitle: «Zustand»
MetaDescription: «Отслеживание изменений состояния с помощью плагина Zustand»

Zustand - это очень быстрый и минималистичный заменитель решений по управлению состоянием, таких как Redux. С помощью нашего плагина Zustand вы можете отслеживать изменения состояния в течение всего жизненного цикла вашего приложения.

## Установка плагина

Плагин можно легко установить с помощью следующей команды:

## Использование плагина в приложении Next.js

Для этого примера мы будем использовать то же приложение, показанное в [туториале Next.js для нашего трекера], так что если вам нужны более подробные сведения о используемом провайдере контекста, просмотрите его сначала.

**Примечание**: полный исходный код этого примера находится в этом репозитории Github, проверьте его, если вам нужны более подробные сведения.

Используемый мной провайдер контекста позволяет настраивать плагины трекера, поэтому после установки плагина мы изменим файл _app.tsx, добавив нижеприведенное объявление импорта:

А затем функция основного приложения должна выглядеть следующим образом:

Это автоматически инициирует плагин с трекером и также делает доступными данные, возвращаемые при выполнении основной функции плагина.

Следующее, что нужно сделать - это создать хранилище. Мы добавим продукты с электронного магазина в это хранилище через минуту.

### Создание хранилища с помощью плагина Zustand

Для использования плагина вам нужно изменить способ, которым вы обычно создаете хранилище Zustand, поэтому не стесняйтесь копировать и вставлять следующий код в качестве шаблона:

Экспортируемая функция создаст хранилище при первом использовании, но после этого она просто вернет существующее.

С другой стороны, функция createProductStore создаст хранилище, установит логику для метода addProduct и использует функцию журнала, которую мы предоставляем ей. Этот журнал, как вы, вероятно, догадались, является тем,
```jsx
npm i @openreplay/tracker-zustand
```
