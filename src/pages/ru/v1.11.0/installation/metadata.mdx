Заголовок: «Метаданные»
metaTitle: «Метаданные»
metaDescription: «Как передавать пользовательские метаданные в OpenReplay. Также известные как характеристики или пользовательские переменные в других платформах».

Дополнительную информацию о пользователях можно предоставить с помощью метаданных (также известных как характеристики или пользовательские переменные). Они представляют собой пары ключ/значение и полезны для фильтрации и поиска определенных сеансов воспроизведения.

<Aside type="tip">
У нас также есть подробное руководство по отправке метаданных в качестве части вашего сеанса, вы можете проверить его [здесь](/tutorials/metadata).
</Aside>

## 1. Явно указывайте метаданные

Метаданные должны быть явно указаны из панели управления из «Настройки > Метаданные». Вы можете добавить до 10 ключей. В приведенном ниже примере мы используем «план».

![Добавить метаданные](/static/metadata-1.png#center)

## 2. Внедряйте метаданные при записи сеансов

После добавления ключа (в этом примере «план») вы можете внедрить метаданные при запуске трекера в виде пары ключ/значение («строка»).

### С помощью NPM

Внедрите метаданные при запуске трекера (в этом примере «план»).


```js
const tracker = new OpenReplay({
  projectKey: PROJECT_KEY
});

tracker.start({
  userID: "john@doe.com",
  metadata: {
    balance: "10M",
    plan: "free"
  }
});
```


Если это невозможно (некоторые или все метаданные могут быть установлены/известны только позже в потоке навигации, так что далеко после запуска трекера), тогда вызовите метод «setMetadata», чтобы сделать это:


```js
tracker.setMetadata('plan', 'free'); // after tracker.start()
```


### С помощью сниппета JavaScript

Ниже приведен пример того, как внедрить метаданные (в этом примере «план») с помощью сниппета. Обратите внимание на добавленную переменную/строку «startOpts», а также на изменение параметров во второй строке.


```js
<!-- OpenReplay Tracking Code -->
<script>
var initOpts = { projectKey: "GxPpaDARdn2345fgt321" };
var startOpts = { userID: getUserID(), metadata: { plan: getPlan()} } // use startOpts variable to inject metadata
(function(A,s,a,y,e,r){
  r=window.OpenReplay=[e,r,y,[s-1, e]];
  s=document.createElement('script');s.src=A;s.async=!a;
  ...
})(0, "GxPpaDARdn2345fgt321", "//static.openreplay.com/3.5.0/openreplay.js",1,29);
</script>
```


Если это невозможно (метаданные известны позже в потоке навигации, так что далеко после запуска трекера), тогда вместо этого вызовите метод «setMetadata», чтобы идентифицировать ваших пользователей. Идентификация пользователя может быть изменена в любое время во время сеанса путем вызова «setMetadata». Однако OpenReplay будет сохранять только последний внедренный идентификатор пользователя.


```js
<!-- OpenReplay Tracking Code -->
<script>
var initOpts = { projectKey: "GxPpaDARdn2345fgt321" };
var startOpts = { userID: "" };
(function(A,s,a,y,e,r){
  r=window.OpenReplay=[e,r,y,[s-1, e]];
  s=document.createElement('script');s.src=A;s.async=!a;
  ...
})("//static.openreplay.com/latest/openreplay.js", 1, 0, initOpts, startOpts);
</script>
  ...
  OpenReplay.setMetadata("plan", "free"); // set metadata later in your code
  ...
```

