Импортировать GoDeeperFooter из «~ / components / go-deeper-footer.astro»

Установка трекера OpenReplay в проект, основанный на Remix, довольно проста.

Когда ваш проект Remix будет готов, ищите файл «root.jsx» в папке «app» и включите код SSR, предоставленный OpenReplay, когда вы создали проект на платформе.

## Шаг 1. Получите код

Вы можете определенно использовать представленный платформой код, что будет представлять собой минимальное, что вам нужно, чтобы начать. Если вы это делаете, убедитесь, что выбрали опцию «Server-Side-Rendered (SSR)», как показано ниже.

! [snippet-code-screenshot.jpg] (./images/snippet-code-screenshot.jpg)

Но для этого примера мы создадим пример модуля, который мы сохраним как «tracker.ts» в папке «app». Этот модуль будет экспортировать функцию под названием «startTracker», которая будет экземплярировать трекер и запускать его.

Если вы столкнетесь с проблемами при импорте модуля Tracker из OpenReplay таким образом, рассмотрите использование динамического импорта, как показано ниже.

💡 ** Примечание для пользователей с самохостингом: ** если вы используете самохостинговую версию OpenReplay, вам также нужно будет указать свойство конфигурации «ingestPoint». Это свойство указывает на конечную точку ввода данных трекера. Пользователи облака не нуждаются в этом, потому что по умолчанию трекер будет знать, где находится SaaS-версия этой точки, но если вы самохостите его, вам нужно будет указать его (это должно быть что-то вроде «https://openreplay.mydomain.com/ingest»)

## Шаг 2. Добавьте код и трекер в ваш проект

Теперь, когда это сделано, вам нужно будет установить пакет трекера для вашего проекта с помощью:

Вам также нужно будет установить пакет [uuid] (https://www.npmjs.com/package/uuid), чтобы убедиться, что вышеуказанный код работает так, как он есть.

Как только это сделано, мы почти готовы начать трекинг, но нам все еще нужно настроить ключ проекта как переменную ENV и как-то передать его трекеру через объект config, полученный в функции startTracker.

### Загрузка переменных ENV в Remix

Переменные ENV доступны на серверной стороне, поэтому мы воспользуемся функцией загрузчика, которую м
```jsx
import {v4 as uuidV4} from 'uuid'
import Tracker from '@openreplay/tracker'

function defaultGetUserId() {
    return uuidV4() 
}

type TrackerConfig = {
    projectKey: string,
    userIdEnabled?: boolean,
    getUserId?: () => string
}

export function startTracker(config: TrackerConfig) {
    let tracker = null;
    let userId = "";
   
    console.log("Starting tracker...")
    console.log("Custom configuration received: ", config)
        
    const getUserId = (config?.userIdEnabled && config?.getUserId) ? config.getUserId : defaultGetUserId
        
    const trackerConfig: TrackerConfig = {
        projectKey: config?.projectKey
    }
        
    console.log("Tracker configuration")
    console.log(trackerConfig)
    tracker = new Tracker(trackerConfig);
        
    if(config?.userIdEnabled) {
        userId = getUserId()
        tracker.setUserID(userId)
    }
     
    tracker.start();
      
    return {
        tracker,
        userId
    }
}
```
