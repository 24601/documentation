Заголовок: «Администрирование OpenReplay»
Мета-заголовок: «Администрирование OpenReplay»
Мета-описание: «Как легко администрировать и управлять экземпляром OpenReplay»
Макет: ~/layouts/MainLayout.astro
i18nReady: true

## CLI

CLI полезен для управления основными аспектами экземпляра OpenReplay, такими как перезапуск или переустановка службы, доступ к журналам компонента или просто проверка состояния ваших бэкенд-служб.

Запустите CLI с опцией `-h`:


```bash
openreplay-cli -h
```


И посмотрите список всех доступных опций:


```shellsession

  ___                   ____            _
 / _ \ _ __   ___ _ __ |  _ \ ___ _ __ | | __ _ _   _
| | | | '_ \ / _ \ '_ \| |_) / _ \ '_ \| |/ _` | | | |
| |_| | |_) |  __/ | | |  _ <  __/ |_) | | (_| | |_| |
 \___/| .__/ \___|_| |_|_| \_\___| .__/|_|\__,_|\__, |
      |_|                        |_|            |___/

[INFO]
  Usage: openreplay [ -h | --help ]
                    [ -s | --status ]
                    [ -u | --upgrade ]
                    [ -U | --deprecated-upgrade /path/to/old_vars.yaml]
                    [ -r | --restart ]
                    [ -R | --Reload ]
                    [ -p | --install-packages ]
                    [ -l | --logs SERVICE ]
         Services: alerts assets assist chalice
                   db ender frontend heuristics
                   http integrations nginx-controller
                   peers sink sourcemapreader storage


```


Бэкенд OpenReplay зависит от следующих компонентов/служб:

| Служба | Описание |
|---------|-------------|
| http | Принимает события и записи сеансов |
| sink | Читает данные из потоковой конвейерной линии (Redis или Kafka для версии Enterprise) и вставляет их в временное хранилище (NFS) |
| storage | Перемещает файлы временных записей сеансов в службу хранения объектов |
| assets | Для кэширования ресурсов (CSS, шрифты и значки) для правильного отображения записей |
| db | Читает и записывает в различные базы данных (Postgres + ClickHouse для версии Enterprise) |
| ender | Завершает сеансы пользователей, если они неактивны или отключены |
| chalice | API для обслуживания фронтенда |
| alerts | Отправляет уведомления (электронная почта, Slack, встроенное приложение, веб-хук) при достижении пользователем заданного порога по любому из производительностных показателей |
| integrations | Отправляет и получает данные из поддерживаемых сторонних API (Sentry, Elastic, GitHub, Jira и т. д.) |

## Полезные команды

- Проверьте состояние здоровья OpenReplay


```sh
openreplay -s
```


- Проверьте журналы служб


```sh
openreplay -l <service name>
```


## Увеличение производительности службы

Возможно увеличить производительность любой службы, переопределив значения по умолчанию для выделенных ресурсов процессора/памяти. Эти последние определяются в процессе настройки на основе вашей вычислительной мощности и должны удовлетворить потребности большинства установок.

Если у вас большой объем и большая мощная машина, просто отредактируйте файл `/var/lib/openreplay/vars.yaml` и переопределите ресурсы службы. В приведенном ниже примере мы это делаем для рабочего процесса `http`. Но это можно сделать для
```yaml
http:
  resources:
    limits:
      cpu: 4096m
      memory: 8192Mi
    requests:
      cpu: 1024m
      memory: 2056Mi
```
