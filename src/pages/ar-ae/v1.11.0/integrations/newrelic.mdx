عنوان: "NewRelic"
MetaTitle: "التكامل مع NewRelic"
MetaDescription: "كيفية التكامل مع NewRelic مع OpenReplay ورؤية الأخطاء الخلفية جنبا إلى جنب مع تسجيلات الجلسات."

---

كيفية التكامل مع NewRelic مع OpenReplay ورؤية الأخطاء الخلفية جنبا إلى جنب مع تسجيلات الجلسات.

## 1. إنشاء مفتاح الاستعلام

1. سجل الدخول إلى حسابك في [NewRelic](https://newrelic.com).
2. في الزاوية العليا اليسرى، اختر لوحة القيادة *INSIGHTS*.
3. في لوحة القيادة *INSIGHTS*، انتقل إلى "Manage Data" ثم اختر *API Keys*.
4. انقر فوق زر *+* لـ *Query Keys*.

![NewRelic API Keys](/static/newrelic-1.png#center)

5. في الملاحظات، اكتب `openreplay`.
6. انسخ `Account ID` و `Key`.
7. انقر فوق *Save your notes*.

![NewRelic Query Key](/static/newrelic-2.png#center)

## 2. تمكين NewRelic في OpenReplay

الصق `Application ID` و `Key` في لوحة القيادة لـ OpenReplay تحت 'Preferences > Integration'.

![NewRelic Integration in OpenReplay](/static/newrelic-3.jpg#center)

## 3. الانتشار openReplaySessionToken

لربط حدث NewRelic مع جلسة المستخدم المسجلة، يجب تدفق نص مميز من الواجهة الأمامية إلى الخلفية في كل طلب تريد تتبعه. يمكن القيام بذلك باستخدام رأس HTTP مخصص. في المثال أدناه، نستخدم وظيفة `fetch` لإرسال ذلك الرأس.


```javascript
const headers = {
  Accept: 'application/json',
  'Content-Type': 'application/json',
};
if (tracker.getSessionToken()) { // or window.OpenReplay instead of tracker if you're using the snippet
  headers['X-OpenReplay-SessionToken'] = tracker.getSessionToken(); // Inject openReplaySessionToken
}
fetch('www.your-backend.com', {
  'GET',
  headers,
});
```


لأجل أن يربط OpenReplay إدخالاً لـ NewRelic مع جلسة المستخدم المسجلة، يجب تدفق نص مميز كـ `custom_parameter` إلى كل خطأ خلفي يريد تتبعه.

بالأسفل هو مثال في API Python لـ NewRelic.


```python
newrelic.agent.add_custom_parameter("openReplaySessionToken", OPENREPLAY_SESSION_TOKEN)
```

