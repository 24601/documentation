---
العنوان: "تكوين SMTP"
metaTitle: "تكوين SMTP"
metaDescription: "إعداد SMTP لاستقبال التنبيهات والتقارير الأسبوعية ودعوة مستخدمي OpenReplay الجدد وإعادة تعيين كلمات المرور."
---

تتطلب بعض الوظائف مثل `التنبيهات` و`التقارير الأسبوعية` و`إعادة تعيين كلمة المرور` و`دعوة مستخدمين جدد` رسائل البريد الإلكتروني. لذلك، مالم تقوم بإعداد SMTP، فلن تعمل هذه الميزات. نحن نوصي باستخدام مزود خدمة البريد الإلكتروني (ESP) مثل Mailgun أو SendGrid لضمان المطابقة والتسليم بشكل قصوى. أدناه، نوفر لك دليلاً خطوة بخطوة على كيفية تكوين Mailgun، ولكن أي مزود آخر سيقوم بالعمل.

## تكوين SMTP

لتمكين SMTP، قم بتحرير `/var/lib/openreplay/vars.yaml` وقم بتحديث المتغيرات البيئية التالية في قسم `البريد الإلكتروني`:

| المتغير | الافتراضي | الوصف |
|----------|-------------|-------------|
| emailHost |  | اسم مضيف SMTP (أي smtp.mailgun.org) |
| emailPort | 587 | منفذ SMTP |
| emailUser |  | اسم مستخدم SMTP |
| emailPassword |  | كلمة مرور SMTP |
| emailUseTls | صحيح | لاستخدام TLS عند الاتصال بمضيف SMTP |
| emailUseSsl | خاطئ | لاستخدام SSL عند الاتصال بمضيف SMTP |
| emailSslKey |  | المسار إلى مفتاح SSL الخاص بك (إذا كان متاحًا) |
| emailSslCert |  | المسار إلى شهادة SSL الخاصة بك (إذا كان متاحًا) |
| emailFrom | do-not-reply@openreplay.com | البريد المرسل |

ثم، قم بإعادة تثبيت خادم الويب لتأخير التغييرات:


```bash
openreplay -R
```


يمكنك اختبار الإعداد عن طريق دعوة نفسك (باستخدام بريد إلكتروني آخر) كعضو في الفريق الجديد (في 'التفضيلات' > 'المستخدمون').

## Mailgun

1. انتقل إلى 'الإرسال' > 'النطاقات' ثم انقر فوق 'إضافة نطاق جديد'.
2. أدخل النطاق الفرعي الخاص بك (أي m.mycompany.com) في 'اسم النطاق' وتأكد من تحديد 'إنشاء سلطة DKIM'، مع مفتاح طول 2048 أحرز أدنى.
3. انتقل إلى مزود خدمة DNS الخاص بك (يتم توفير تعليمات محددة من قبل Mailgun) وأضف **كل السجلات المعروضة**.
4. بمجرد إضافة كل السجلات، انقر فوق 'تحقق من إعدادات DNS'.
5. الآن انتقل إلى 'الإرسال' > 'إعدادات النطاق' > 'إعدادات SMTP' وانقر فوق 'إضافة مستخدم SMTP جديد'. أدخل 'تسجيل الدخول' (أي openreplay) ثم انقر فوق 'إنشاء إعدادات SMTP'. يجب أن يظهر مربع حوار، انقر فوق 'نسخ' لنسخ كلمة المرور التي تم إنشاؤها.
6. استخدم الإعدادات SMTP وإعدادات الاعتماد المعروضة لتكوين SMTP في OpenReplay. حرر `/var/lib/openreplay/vars.yaml` وقم بتحديث المتغيرات البيئية التالية في قسم `البريد الإلكتروني`:


```yaml
emailHost: 'smtp.eu.mailgun.org' # from SMTP settings section
emailPort: '587'
emailUser: 'openreplay@mycompany.com' # from SMTP credentials section
emailPassword: 'password' # the one copied when you created SMTP credentials
emailUseTls: 'true'
emailUseSsl: 'false'
emailSslKey: ''
emailSslCert: ''
emailFrom: 'openreplay@mycompany.com' # sender email, use your domain'
```


7. قم بإعادة تثبيت خادم الويب لتأخير التغييرات:


```bash
openreplay -R
```

