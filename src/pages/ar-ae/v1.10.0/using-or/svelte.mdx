['---\ntitle: "استخدام OpenReplay مع Svelte"\nmetaTitle: "استخدام المتعقب داخل مشروع Svelte"\nmetaDescription: "تعلم كيفية بدء تتبع مستخدميك في مشروع Svelte الخاص بك"\n---\nimport GoDeeperFooter from \'~/components/go-deeper-footer.astro\'\n\nتثبيت متعقب OpenReplay في مشروع مبني على Svelte بسيط جداً.\n\nالمفتاح لجعله يعمل هو استخدام السياق، والذي بينما يبدو مشابها لكيف نفعل ذلك مع Next.js، ستكون التنفيذ مختلفاً.\n\n## مشروع عينة\n\nإذا كنت ترغب في مراجعة الكود الكامل لهذا المشروع، فتحقق من [المشروع الذي سنستخدمه طوال هذا الدليل](https://github.com/deleteman/openreplay-svelte-example).\n\nهذا هو مشروع SvelteKit العينة الذي يمكنك نسخه واختباره بمتابعة التعليمات في ملف Readme.\n\nبمجرد النشر والتكوين، يجب أن تتمكن من التقاط تشغيلات الجلسة كما هو موضح في الصورة التالية:\n\n![Svelte session replay](images/svelte-session.png)\n\n## استخدام السياق لمشاركة البيانات\n\nهذه الحلول ستستخدم سياق Svelte، والذي يتيح لك مشاركة البيانات بين المكون الأب وجميع أطفاله (مشابه لمزودي السياق في React).\n\nفي هذا المثال على حد سواء، سنضيف المتعقب لقسم المشرف في تطبيقنا، لذلك سنضبط السياق في ملف تخطيط المشرف (`src/layout/Admin.svelte`). ثم سنبدأه في الصفحة الأولى التي يتم تشغيلها داخل هذا القسم.\n\n## إنشاء سياق المتعقب\n\nداخل ملف `src/layout/Admin.svelte`، داخل وسم `script`، لنضيف الكود التالي:\n\n
```jsx
import {Tracker, key} from "../context/tracker"

let tracker = new Tracker({
    projectKey: __myapp.env.OPENREPLAY_PROJECT_KEY
});
  
setContext(key, {
 getTracker: () => tracker
} )
```
', '\n\nبطبيعة الحال، ستكون هناك المزيد من الكود داخل هذا الملف ولكن ما تراه هنا هو مهم لنا الآن.\n\n1. نحن نقوم أولاً باستيراد المتعقب من OpenReplay ومتغير مفتاح (المزيد عن هذه في الثاني).\n2. ثم نقوم بتوليد المتعقب. كما يمكنك رؤيته، الخيار الوحيد الذي نستخدمه هو مفتاح المشروع، والذي ستحصل عليه من واجهة المستخدم بعد إعداد المشروع في OpenReplay.\n3. نحن نحفظ نسخة المتعقب في السياق الذي يتم إنشاؤه باستدعاء `setContext`. سيتم استخدام المتغير `key` لاسترجاع هذه القيمة من السياق.\n\n💡**ملاحظة لمستخدمي المضمنين:** إذا كنت تستخدم نسخة المضمنة من OpenReplay، فسيتعين عليك أيضاً تحديد خاصية التكوين `ingestPoint` في الخطوة 2. يحدد هذه الخاصية نقطة استيراد لبيانات المتعقب. لا يحتاج المستخدمون السحابيون إلى هذا، لأنه بشكل افتراضي، سيعرف المتعقب أين هو نقطة استيراد نسخة الخدمة لهذا، ولكن إذا كنت تضمنها، فستحتاج إلى تحديدها (يجب أن يكون شيئاً مثل `https://openreplay.mydomain.com/ingest`).\n\n## استخدام سياق المتعقب\n\nاستخدام السياق (واستدعاء طريقة `start`) يسهل جداً من خلال الحصول على السياق من خلال وظيفة `getContext` من Svelte.\n\nالس
```jsx
import {key} from "../../context/tracker"
  
let {getTracker} = getContext(key)
onMount( () => {
	let tracker = getTracker()
	tracker.start()
})
```
