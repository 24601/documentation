---
titre: "SDK JavaScript - Initialisation du SDK"
metaTitle: "SDK JavaScript - Initialisation du SDK"
metaDescription: "Options de configuration pour la méthode de constructeur du suiveur"
---
import Aside from '~/components/Aside.astro'
import ORCard from '~/components/Card/ORCard.astro'

## Installation

La ligne suivante installera le suiveur et avec lui le SDK pour que vous puissiez profiter de toutes les fonctionnalités du suiveur.


```bash
npm i @openreplay/tracker
```


## Initialisation
Lors de l'instanciation du suiveur OpenReplay, il existe plusieurs options de configuration que vous pouvez fournir pour personnaliser de nombreux aspects de l'enregistrement et de l'expérience d'enregistrement.

Vous devez définir l'option `projectKey` dans le constructeur. Vous pouvez obtenir cette valeur à partir de votre tableau de bord OpenReplay sous «Préférences> Projets».

<Aside type="tip">
  Notez que si vous avez plusieurs projets, vous devez faire attention à quelle clé de projet vous choisissez.
</Aside>

### Applications à page unique (SPA)
Si votre site Web est une **Application à page unique (SPA)**, utilisez le code ci-dessous:


```js
import OpenReplay from '@openreplay/tracker';
//...
const tracker = new OpenReplay({
  projectKey: PROJECT_KEY
});
tracker.start(); // returns a promise with session info (sessionID, sessionHash, userUUID)
```


### Rendu côté serveur (SSR)
Sinon, si votre application Web est **rendue côté serveur (SSR)** (c'est-à-dire NextJS, NuxtJS), utilisez le code ci-dessous. Assurez-vous que `tracker.start()` est appelé une fois que l'application est démarrée (dans `useEffect` ou `componentDidMount`).


```js
import OpenReplay from '@openreplay/tracker/cjs';
//...
const tracker = new OpenReplay({
      projectKey: PROJECT_KEY,
});
//...
function MyApp() {
  useEffect(() => { // use componentDidMount in case of React Class Component
    tracker.start(); // returns a promise with session info (sessionID, sessionHash, userUUID)
  }, [])
}
```


<Aside type="tip">
Si vous utilisez un framework Web particulier, consultez notre section [Configuration du suiveur] (/using-or) pour savoir comment commencer.
</Aside>

## Exemple


```js
import OpenReplay from '@openreplay/tracker/cjs';
//...
const tracker = new OpenReplay({
      projectKey: PROJECT_KEY,
      ingestPoint: "https://openreplay.mydomain.com/ingest", // when dealing with the self-hosted version of OpenReplay
      capturePerformance: true,
      __DISABLE_SECURE_MODE: true // for local testing
});
```


## Options d'initialisation

Il existe un ensemble d'options que vous pouvez passer au constructeur. Seul `projectKey` est requis.

### But général

- `projectKey: string` L'ID du projet que vous suivez.
- `sessionHash?: string` Le hachage de la session initiale. Cela est utile lorsque les sessions traversent différents sous-domaines sur votre application Web, mais vous souhaitez les assembler en un seul enregistrement. Au cas où il ne serait pas possible de continuer la session (elle n'existe pas ou est terminée), le suiveur démarrera automatiquement une nouvelle session. Il est également renvoyé sur `stop()`. Plus de détails à ce sujet [ici] (/troubleshooting/session-recordings#replaysarebrokenacrosssubdomains).
- `ingestPoint?: string` Votre domaine OpenReplay (c'est-à-dire https://openreplay.mydomain.com/ingest), auquel le suiveur enverra des événements. Cette option est facultative pour les utilisateurs OpenReplay Cloud. Par défaut: `https://api.openreplay.com/ingest` (qui pointe vers OpenReplay Cloud).
- `revID?: string` L'ID de révision de votre application Web. Utile lors de la recherche de problèmes survenant sur une version de version spécifique.
- `resourceBaseHref?: string` Se réfère au domaine accessible publiquement où les ressources (styles, polices et icônes) peuvent être récupérées par OpenReplay. Comme ils sont nécessaires pour un rejeu de session correct, cette option est utile pour contourner la limitation d'avoir votre site (et donc les ressources) hébergé dans un domaine privé. Exemple: `https://mypublicsite.com/assets/`.
- `captureIFrames?: boolean` Pour capturer tous les iFrames du même domaine dans votre application Web. Si vous souhaitez suivre un iFrame spécifique, ajoutez simplement l'attribut HTML `data-openreplay-capture` à la balise `<iframe>`. Par défaut: `true`.
- `disableClickmaps?: boolean` Pour désactiver les cartes de clic. Par défaut: `true`.
- `verbose?: boolean` Pour activer les journaux. Par défaut: `false`.
- `autoResetOnWindowOpen?: boolean` Activez cette option pour réinitialiser l'ID de session lors de l'ouverture d'un nouvel onglet à partir de votre application. Cela remplace la méthode `window.open` pour éviter les ID de session dupliqués en raison du stockage de session partagé entre les onglets du navigateur. Par défaut: `false`.

### Confidentialité

- `respectDoNotTrack?: boolean` Ne pas démarrer le suiveur si le drapeau do-not-track est activé dans le navigateur de l'utilisateur. Par défaut: `false`.
- `obscureTextEmails?: boolean` Obscurcit les emails dans les éléments de texte. Les emails seront convertis en une chaîne aléatoire d'astérisques. Par défaut: `true`.
- `obscureTextNumbers?: boolean` Obscurcit les nombres dans les éléments de texte. Les nombres seront convertis en une chaîne aléatoire d'astérisques. Par défaut: `false`.
- `obscureInputEmails?: boolean` Obscurcit les emails dans les champs d'entrée. Les valeurs d'email seront convertis en une chaîne aléatoire d'astérisques. Par défaut: `true`.
- `defaultInputMode?: 0 | 1 | 2` Mode de capture par défaut pour les valeurs d'entrée. Respectivement: brut, obscurci ou ignoré. Par défaut: `1` (obscurci).

Notez que les données exclues sont obscurcies ou supprimées avant d'envoyer les données aux serveurs OpenReplay. Les modifications apportées aux options ci-dessus ne sont pas rétroactives et ne s'appliqueront qu'aux données collectées récemment. Voir [Sanitize Data] (/installation/sanitize-data) pour plus de détails.

### Console

- `consoleMethods?: Array<'log' | 'info' | 'warn' | 'error'  'debug' | 'assert'> | null` Spécifie la liste des méthodes de console à capturer. Par défaut: `['log', 'info', 'warn', 'error', 'debug', 'assert']`
- `consoleThrottling?: number` Nombre maximal d'entrées de console capturées par seconde. Par défaut: `30`.

### Exceptions

- `captureExceptions?: boolean` Capture les exceptions JavaScript et les traces de pile. Par défaut: `true`.

### Timings

- `captureResourceTimings?: boolean` Enregistre les temps de ressource. Par défaut: `true`.
- `capturePageLoadTimings?: boolean` Enregistre les temps de chargement de la page. Par défaut: `true`.
- `capturePageRenderTimings?: boolean` Calcule les métriques de rendu de la page telles que l'indice de vitesse, le complètement visuel ou le temps d'interactivité. Nécessite `captureResourceTimings = true`. Par défaut: `true`.

### Performance

- `capturePerformance?: boolean` Pour capturer des métriques de performance
```js
network?: {
    failuresOnly: boolean;
    sessionTokenHeader: string;
    ignoreHeaders: Array<string> | boolean;
    capturePayload: boolean; // make sure you sanitize your data before enabling it
    sanitizer: (RequestResponseData) => RequestResponseData | null;
		captureInIframes: boolean;
  	axiosInstances: AxiosInstance[];
  }
```
